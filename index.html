
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mi PlayList para mi Amada üíñ</title>

  <!-- META para compartir -->
  <meta property="og:title" content="Mi PlayList para mi Amada üíñ" />
  <meta property="og:description" content="Una app musical rom√°ntica solo para ti." />
  <meta property="og:image" content="https://sersacertret.github.io/PlayList-MiAmada/iconos/preview.jpg" />
  <meta property="og:url" content="https://sersacertret.github.io/PlayList-MiAmada/" />
  <meta name="twitter:card" content="summary_large_image" />

  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="iconos/icon-192.png" type="image/png" />
  <style>
    body {
      font-family: sans-serif;
      background: #ffe4ec;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    header h1 {
      color: #d81b60;
      padding: 1rem;
    }
    .cover {
      width: 120px;
      border-radius: 20px;
      box-shadow: 0 0 10px gold;
      margin: 10px auto;
    }
    .scroll-text {
      font-size: 14px;
      white-space: nowrap;
      overflow: hidden;
      width: 100%;
      box-sizing: border-box;
      animation: scroll-left 12s linear infinite;
      color: #d81b60;
      font-weight: bold;
      margin: 10px 0;
    }
    @keyframes scroll-left {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
    .download-button, .install-button {
      background-color: #4CAF50;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      margin-top: 15px;
      font-size: 14px;
      transition: transform 0.2s ease, background-color 0.3s ease;
    }
    .download-button:hover, .install-button:hover {
      transform: scale(1.05);
      background-color: #45a049;
    }
    .ios-message {
      margin-top: 10px;
      font-size: 14px;
      color: #555;
      background: #fff3cd;
      padding: 10px;
      border-radius: 10px;
      display: none;
    }
    #lyrics {
      margin-top: 20px;
      white-space: pre-line;
      text-align: center;
      font-size: 14px;
      color: #444;
      background: #fdfdfd;
      padding: 15px;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <header>
    <h1>üé∂ Mi PlayList para mi Amada üíñ</h1>
  </header>

  <main>
    <div class="player">
      <img src="iconos/icon-192.png" alt="Portada" class="cover" />
      <div id="now-playing-container" class="scroll-text" style="display: flex; align-items: center; justify-content: center; gap: 10px;">
 <img id="mini-cover" src="portadas/cancion1.png" alt="Mini portada" style="width: 30px; height: 30px; border-radius: 50%; animation: spin 4s linear infinite; animation-play-state: paused;" />
  <span id="now-playing">Reproduciendo: Canci√≥n 1 - Siempre T√∫</span>
</div>

      <audio id="audio-player" controls>
        <source src="musica/cancion1.mp3" type="audio/mp3" />
        Tu navegador no soporta el reproductor de audio.
      </audio>

      <button id="download-btn" class="download-button">‚¨áÔ∏è Descargar canci√≥n actual</button>
      <button id="install-btn" class="install-button" style="display: none;">üì≤ Instalar esta app</button>
      <div id="ios-msg" class="ios-message">üì± En iPhone, toca <strong>el bot√≥n compartir</strong> y selecciona <strong>"Agregar a pantalla de inicio"</strong>.</div>

      <ul id="playlist">
        <li onclick="playSong('cancion1.mp3', 'Canci√≥n 1 - Siempre T√∫')">‚ñ∂Ô∏è Canci√≥n 1 - Siempre T√∫</li>
        <li onclick="playSong('cancion2.mp3', 'Canci√≥n 2 - Siempre Contigo')">‚ñ∂Ô∏è Canci√≥n 2 - Siempre Contigo</li>
        <li onclick="playSong('cancion3.mp3', 'Canci√≥n 3 - Estoy Contigo')">‚ñ∂Ô∏è Canci√≥n 3 - Estoy Contigo</li>
        <li onclick="playSong('cancion4.mp3', 'Canci√≥n 4 - Me Acordaba de Ti')">‚ñ∂Ô∏è Canci√≥n 4 - Me Acordaba de Ti</li>
      </ul>

      <div class="controls">
        <button onclick="prevSong()">‚èÆÔ∏è Anterior</button>
        <button onclick="nextSong()">‚è≠Ô∏è Siguiente</button>
      </div>

      <div id="lyrics"></div>
    </div>
  </main>
<script>
const tracks = [
  {
    title: "Canci√≥n 1 - Siempre T√∫",
    file: "cancion1.mp3",
    lyrics: `Pasaron muchos a√±os, y yo nunca te pude olvidar,
cada noche te convert√≠as en susurro,
y me acompa√±abas en cada amanecer.

La distancia era grande,
pero nuestras almas se ve√≠an a escondidas en el viento,
dando a entender que lo nuestro era un destino escrito en fuego y tiempo.

Ogris, mi amor, mi raz√≥n,
eres la historia que mi coraz√≥n no quiso olvidar.
Aunque la vida intent√≥ alejarnos,
el universo volvi√≥ a reencontrarnos.

Ahora, tu sonrisa que es mi refugio,
tu voz, el eco de mi paz.
Me llamas Ogro, mi amor, mi esposo y sonr√≠o,
porque eres mi hogar.

No hay distancia que borre lo eterno,
ni un solo d√≠a en que no te quiera.

Ogrita, mi amor, mi vida,
eres la historia que mi coraz√≥n no quiso olvidar.
Hoy vivimos lo que el destino so√±√≥:
t√∫ y yo, y nuestros hijos, un amor sin adi√≥s.`
  },
  {
    title: "Canci√≥n 2 - Siempre Contigo",
    file: "cancion2.mp3",
    lyrics: `S√© que el viento hoy te pesa,
que el sol parece apagar su luz.
Las sombras te rodean,
pero mi Ogris no est√°s sola, aqu√≠ estoy yo para ti.

Ogris, mi vida, mi amor,
aunque la vida intente quebrarnos,
siempre contigo voy a estar,
eres mi mundo, eres mi universo.

Cada l√°grima que hoy derramas
es un eco de todo lo que has dado.
Pero amor, eres mucho m√°s fuerte
de lo que el miedo te deja mirar.

¬øSabes? La distancia nunca nos ha separado,
porque siempre est√°s en m√≠.
Pronto estar√© ah√≠ contigo,
para abrazarte, besarte y no dejarte ir.

Ogris, mi vida, mi amor,
aunque la vida intente quebrarnos,
siempre contigo voy a estar,
eres mi mundo, eres mi universo, mi eternidad.`
  },
  {
    title: "Canci√≥n 3 - Estoy Contigo",
    file: "cancion3.mp3",
    lyrics: `S√© que el mundo pesa m√°s que ayer,
que el sol parece esconder su luz.
Tus l√°grimas cuentan mil historias
de todo lo que has perdido mi amor.

Ogris, mi vida, aqu√≠ estoy yo para ti,
no hay distancia que nos separe hoy.
Aunque la vida nos quiera quebrar,
t√∫ y yo somos m√°s fuertes que ayer, juntos vamos a vencer.

Siento tu dolor en cada suspiro,
en cada palabra rota al hablar.
Pero amor, a√∫n hay estrellas
que sin detenerse, brillan con luz infinita solo para ti.

Cuando el miedo intente apagar tu voz,
cuando la herida duela m√°s que una despedida,
recuerda que en cada latido,
mi coraz√≥n late contigo, hasta el fin.

Esposa m√≠a, mi vida, aqu√≠ estoy yo para ti,
no hay distancia que nos separe hoy.
Aunque la vida nos quiera quebrar ma√±ana,
t√∫ y yo somos m√°s fuertes,
y con la ayuda de Dios venceremos al final,
te amo, te amo, te amo, hasta la eternidad.`
  },
{
    title: "Canci√≥n 4 - Me Acordaba de Ti",
    file: "cancion4.mp3",
    lyrics: `Tu nombre lo escuch√© mil veces en otros labios, 
aunque no hablaban de ti, y mi alma volv√≠a a temblar al recordarte.

Publicidad, letreros, rayados en la acera,  
todo gritaba que no te olvidara.

Me acordaba de ti sin querer,  
cuando el aire susurraba tu manera de amar.  
En un regalo viejo, en una canci√≥n dedicada,  
te aparec√≠as sin explicaci√≥n.  
Y aunque fing√≠a seguir sin mirar atr√°s,  
me acordaba de ti.

Cuando llegaba el mes en que naciste,  
el cielo cambiaba y la nostalgia ven√≠a a verme.

Una noticia nombraba tu ciudad,  
y mi coraz√≥n en mi pecho respond√≠a sin preguntar.

Me acordaba de ti, sin raz√≥n,  
como un eco perdido en la estaci√≥n.  
En un mensaje de texto olvidado,
en las canciones dedicadas de aquel viejo amor.  
Aunque el tiempo insist√≠a en huir,  
me acordaba siempre de ti.

En cada rinc√≥n que la vida dej√≥,  
tu ausencia cantaba lo que el alma guard√≥.  
Nunca aprend√≠ a dejar de sentir,  
todo me llevaba de nuevo a ti.

Me acordaba de ti sin final,  
en lo simple, en lo m√°s casual.  
Como si el universo quisiera insistir  
en volvernos a unir‚Ä¶ y as√≠ fue.  
Hoy somos esposos, porque el amor no termin√≥.  
La oscuridad quiso apagarnos, pero no venci√≥.  
La luz nos hall√≥‚Ä¶ y el destino nos abraz√≥.`
  }
];

let currentTrack = 0;
const player = document.getElementById('audio-player');
const nowPlaying = document.getElementById('now-playing');
const lyricsBox = document.getElementById('lyrics');

function playSong(file, title) {
  player.src = 'musica/' + file;
  player.load();
  nowPlaying.textContent = 'Reproduciendo: ' + title;

  // Actualiza la mini portada seg√∫n la canci√≥n
  const miniCover = document.getElementById('mini-cover');
  miniCover.src = 'portadas/' + file.replace('.mp3', '.png');

  // Detener animaci√≥n por si ven√≠a de una canci√≥n anterior
  miniCover.style.animationPlayState = 'paused';

  const current = tracks.find(t => t.file === file);
  lyricsBox.textContent = current?.lyrics || '';
  player.play();
}
player.addEventListener('play', () => {
  const miniCover = document.getElementById('mini-cover');
  miniCover.style.animationPlayState = 'running';
});

player.addEventListener('pause', () => {
  const miniCover = document.getElementById('mini-cover');
  miniCover.style.animationPlayState = 'paused';
});
function nextSong() {
  currentTrack = (currentTrack + 1) % tracks.length;
  playSong(tracks[currentTrack].file, tracks[currentTrack].title);
}

function prevSong() {
  currentTrack = (currentTrack - 1 + tracks.length) % tracks.length;
  playSong(tracks[currentTrack].file, tracks[currentTrack].title);
}

window.onload = () => {
  playSong(tracks[currentTrack].file, tracks[currentTrack].title);
};

document.getElementById('download-btn').addEventListener('click', () => {
  const current = tracks[currentTrack];
  const link = document.createElement('a');
  link.href = 'musica/' + current.file;
  link.download = current.file;
  link.click();
});

document.addEventListener('click', function(e) {
  const particle = document.createElement('span');
  particle.textContent = '‚ú®';
  particle.style.position = 'absolute';
  particle.style.left = e.pageX + 'px';
  particle.style.top = e.pageY + 'px';
  particle.style.fontSize = '20px';
  particle.style.pointerEvents = 'none';
  particle.style.opacity = 1;
  particle.style.transition = 'all 0.8s ease-out';
  document.body.appendChild(particle);
  setTimeout(() => {
    particle.style.top = (e.pageY - 30) + 'px';
    particle.style.opacity = 0;
  }, 10);
  setTimeout(() => {
    particle.remove();
  }, 1000);
});

let deferredPrompt;
const installBtn = document.getElementById('install-btn');
const iosMsg = document.getElementById('ios-msg');

window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  installBtn.style.display = 'inline-block';
});

installBtn.addEventListener('click', () => {
  if (deferredPrompt) {
    deferredPrompt.prompt();
    deferredPrompt.userChoice.then(() => {
      deferredPrompt = null;
      installBtn.style.display = 'none';
    });
  }
});

const isIOS = /iphone|ipad|ipod/i.test(navigator.userAgent);
const isInStandaloneMode = ('standalone' in window.navigator) && window.navigator.standalone;
if (isIOS && !isInStandaloneMode) {
  iosMsg.style.display = 'block';
}
</script>

<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./service-worker.js')
    .then(reg => console.log("‚úÖ Service Worker registrado"))
    .catch(err => console.error("‚ùå Error al registrar Service Worker:", err));
}
</script>
</body>
</html>
